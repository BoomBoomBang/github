function play(){vd.play(),$(".mask").addClass("hide"),$("#play").addClass("hide"),$("#pause").removeClass("hide")}function pause(){vd.pause(),$(".mask").removeClass("hide"),$("#pause").addClass("hide"),$("#play").removeClass("hide")}function allScreen(){var e=$("html").width(),i=$("html").height();$("#allScreen").addClass("hide"),$("#smallScreen").removeClass("hide"),$(".vd-box").css({width:e-10+"px",height:i-10+"px",margin:"0 auto"}),$("#vd").css({width:e-10+"px",height:i-85+"px"}),$(".mask").css({width:e-10+"px",height:i-10+"px"})}function smallScreen(){$("#smallScreen").addClass("hide"),$("#allScreen").removeClass("hide"),$(".vd-box").css({width:"760px",height:"505px",margin:"100px auto"}),$("#vd").css({width:"760px",height:"420px"}),$(".mask").css({width:"760px",height:"420px"})}function allTime(e){var i=e.duration,n=parseInt(i%60),t=parseInt(i/60);n<10?t<10?$("#allTime").text("0"+t+":0"+n):$("#allTime").text(t+":0"+n):t<10?$("#allTime").text("0"+t+":"+n):$("#allTime").text(t+":"+n)}function nowTime(e){var i=e.currentTime,n=parseInt(i%60),t=parseInt(i/60);n<10?t<10?$("#nowTime").text("0"+t+":0"+n):$("#nowTime").text(t+":0"+n):t<10?$("#nowTime").text("0"+t+":"+n):$("#nowTime").text(t+":"+n)}var vd=$("#vd").get(0),ballW=$("#ball").width();$("#play").on("click",function(){play()}),$("#pause").on("click",function(){pause()}),$(".mask").on("click",function(){play()}),vd.onclick=function(){pause()},nowTime($("#vd").get(0)),$("#allScreen").on("click",function(){allScreen()}),$("#smallScreen").on("click",function(){smallScreen()});var isDraging=!1;vd.addEventListener("timeupdate",function(e){if(!isDraging){allTime(this),nowTime(this),vd.currentTime==vd.duration&&pause();var i=vd.currentTime/vd.duration*(700-ballW);$("#played").css("width",i+"px"),$("#ball").css("left",i+"px")}},!1),$("#ball").on("mousedown",function(e){allTime($("#vd").get(0));var i=e.originalEvent,n=i.clientX,t=ball.offsetLeft;isDraging=!0,$(document).on("mousemove.aaa",function(e){var i=e.originalEvent,a=i.clientX+t-n;a>=700-ballW||a<=0||($("#played").css("width",a+"px"),$("#ball").css("left",a+"px"),vd.currentTime=a/(700-ballW)*vd.duration,nowTime($("#vd").get(0)),i.preventDefault())}),$(document).on("mouseup.aaa",function(){$(document).off(".aaa"),isDraging=!1})}),$("#vcOpen").on("click",function(){$(this).addClass("hide"),$("#vcClose").removeClass("hide"),vd.muted=!0}),$("#vcClose").on("click",function(){$(this).addClass("hide"),$("#vcOpen").removeClass("hide"),vd.muted=!1});var vcLeft=$("#voiceCtl").offset().left,vbWid=$("#vcBall").width();$("#vcBall").on("mousedown",function(e){var i=e.originalEvent,n=i.clientX,t=$(this).offset().left;$(document).on("mousemove.bb",function(e){var i=e.originalEvent,a=i.clientX+t-n-vcLeft;return!(a>=100||a<=0)&&($("#vcBall").css("left",a+"px"),$("#vcPcs").css("width",a+vbWid/2+"px"),void(vd.volume=a/100))}),$(document).on("mouseup.bb",function(){$(document).off(".bb")})});
function isLoadImg(e,i){var t=jq("#"+e+">"+i).last(),o=t.position().top,n=t.outerHeight()/2,r=$(window).scrollTop(),a=jq(window).height()+jq(document).scrollTop();return(o+1e3-r-n)*Num<a}function addBox(e,i){jq.getJSON("json/image.json",function(t){jq.each(t,function(t,o){o.name==i&&(jq.each(o.img,function(i,t){var o=jq('<figure class="fb_l_cont"><div class="cont_img"><img src="img/'+t.url+'" alt=""><figcaption>'+t.discribe+"</figcaption></div></figure>");jq("#"+e).append(o)}),waterFall("fbLive","fb_l_cont"),waterFall("fbLife","fb_l_cont"),waterFall("fbGirl","fb_l_cont"),isLoadImg("fbLive","figure"))})})}function waterFall(e,i){var t=(jq("#"+e),jq("#"+e+">"+i)),o=parseInt(t.eq(0).outerWidth())/Rem,n=parseInt(document.documentElement.clientWidth)/Rem,r=parseInt(jq("#"+e+">figure")[0].clientWidth)/Rem,a=Math.floor(n/r),l=new Array;t.each(function(e,i){var n=parseInt(t.eq(e).outerHeight())/Rem;if(e<a)l.push(n);else{var r=Math.min.apply(null,l),f=jq.inArray(r,l);0==f?t.eq(e).css({position:"absolute",top:r+.1*Math.floor(e/2+1)+"rem",left:"0rem"}):1==f&&t.eq(e).css({position:"absolute",top:r+.1*Math.floor(e/2+1)+"rem",left:o+.1+"rem"}),$("#content").css("height",r+"rem"),l[f]+=parseInt(t.eq(e).outerHeight())/Rem}})}var Num=1;addBox("fbLive","live"),addBox("fbLife","life"),addBox("fbGirl","girl"),$(window).scroll(function(){return!!(isLoadImg("fbLive","figure")&&Num<=2)&&(addBox("fbLive","live"),addBox("fbLife","life"),addBox("fbGirl","girl"),void Num++)});